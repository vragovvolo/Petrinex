resources:
  jobs:
    petrinex_job:
      name: petrinex_job

      trigger:
        periodic: # Run weekly to ensure we catch updates
          interval: 1
          unit: WEEKS

      email_notifications:
        on_failure:
          - scott.mckean@databricks.com

      tasks:
        - task_key: ingest
          environment_key: default
          notebook_task:
            notebook_path: ../src/01_ingest.ipynb

      environments:
        - environment_key: default
          spec:
            environment_version: "3"
            dependencies:
              - ../dist/*.whl
